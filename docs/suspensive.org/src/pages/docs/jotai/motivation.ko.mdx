import { Steps } from 'nextra/components'

# 어떤 이유로 사용하나요?

@suspensive/jotai는 아래와 같은 동기로 사용됩니다.

<Steps>

### Jotai에서 발생되는 Suspnse를 더욱 강력하게 사용할 수 있습니다.

Jotai의 모든 Atom은 비동기 읽기 또는 비동기 쓰기와 같은 비동기 동작을 지원합니다. 비동기식 Atom을 사용하면 실제 데이터를 접근하면서 동시에 Atom에서 놀라울 정도로 쉽게 데이터를 관리할 수 있습니다.

Jotai의 Async는 본질적으로 비동기 흐름을 처리하기 위해 Suspense를 활용하고 있습니다. Atom이 비동기 요청을 시작하게 되면 Suspense가 활성화되어 동작합니다.

[@suspensive/react](https://suspensive.org/ko/docs/react/motivation)와 함께 사용하여 Suspense를 강력하고 편리하게 사용할 수 있습니다.

### Async Atom를 선언적으로 사용할 수 있습니다.

제공되는 컴포넌트는 Jotai와 동일한 인터페이스의 Props를 가지며 선언적으로 사용할 수 있습니다. 이는 [@suspensive/react-query와 동일하게](https://suspensive.org/ko/docs/react-query/SuspenseQuery), 같은 depth에서 Suspense를 발생시키는 것이 무엇인지 명확하게 표현할 수 있습니다.

```tsx
import { Atom } from '@suspensive/jotai'
import { Suspense } from '@suspensive/react'
import { UserProfile } from '~/components'
import { userAtom } from "~/atoms";

const Example = () => (
  <Suspense fallback="loading...">
    <Atom atom={userAtom}>{([ data ]) => <UserProfile key={data.id} {...data} />}
  </Suspense>
)
```

### Jotai의 커뮤니티 리소스와 함께 사용할 수 있습니다.

Jotai에는 [Query](https://jotai.org/docs/extensions/query), [Cache](https://jotai.org/docs/extensions/cache) 등 다양한 커뮤니티 리소스가 있습니다. 커뮤니티 리소스에서 발생되는 Suspense 또한 지원됩니다.

아래 예시 처럼 [jotai-tanstack-query](https://github.com/jotaijs/jotai-tanstack-query)와 함께 선언적으로 사용할 수 있습니다.

```tsx
import { AtomValue } from '@suspensive/jotai'
import { Suspense, ErrorBoundary } from '@suspensive/react'
import { UserProfile } from '~/components'
import { userQueryAtom } from '~/queries'

const PostsPage = ({ userId }) => (
  <ErrorBoundary fallback={({ error }) => <>{error.message}</>}>
    <Suspense fallback={'loading...'}>
      <AtomValue atom={userQueryAtom}>
        {({ data: user }) => <UserProfile key={user.id} {...user} />}
      </AtomValue>
    </Suspense>
  </ErrorBoundary>
)
```

</Steps>
