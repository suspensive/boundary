---
sidebar_position: 1
title: <Suspense/>
---

@suspensive/react의 `<Suspense/>`는 [React의 Suspense](https://react.dev/reference/react/Suspense)가 됩니다.

### props.fallback

fallback은 react의 Suspense의 fallback와 동일하게 동작합니다.

```tsx
import { Suspense } from '@suspensive/react'

const Example = () => (
  <Suspense fallback={<Loading />}>
    <Children />
  </Suspense>
)
```

:::tip

### Default fallback

`<Suspense/>`는 `<SuspensiveProvider/>`와 함께 사용할 때 더욱 강력해집니다. `<SuspensiveProvider/>`를 사용하여 여러 `<Suspense/>`의 default fallback를 제어합니다. 자세한 내용은 [`<SuspensiveProvider/>` 페이지](./SuspensiveProvider.i18n)에 소개되어 있습니다.

:::

### 서버사이드 렌더링을 피하기 (CSROnly)

`<Suspense.CSROnly/>`는 서버에서는 fallback을 반환합니다. mount 후(클라이언트에서는) children을 반환합니다. mount는 클라이언트에서만 일어나기 때문에 서버사이드 렌더링을 피할 수 있습니다.

```tsx
import { Suspense } from '@suspensive/react'

const Example = () => (
  <Suspense.CSROnly fallback={<Loading />}>
    <Children />
  </Suspense.CSROnly>
)
```

:::tip

### SSR을 지원하도록 점진적으로 마이그레이션하기 (`<Suspense.CSROnly/>` -> `<Suspense/>`)

React.Suspense를 SSR과 CSR에서 모두 사용하고 싶다면 `<Suspense.CSROnly/>`에서 `<Suspense/>`로 점진적으로 마이그레이션하면 쉽게 적용할 수 있습니다.

:::

## withSuspense

withSuspense를 사용하면 컴포넌트를 `<Suspense/>`로 쉽게 래핑할 수 있습니다.
아래와 같이 withSuspense를 사용하면 이를 감싸기 위해 불필요한 코드를 만들 필요가 없습니다.
withSuspense의 두 번째 인자는 children이 없는 `<Suspense/>`의 props입니다.

```tsx
import { withSuspense } from '@suspensive/react'

const Example = withSuspense(
  function Component() {
    // code make suspending

    return <>...</>
  },
  { fallback: <Spinner /> }
)

const Example = withSuspense.CSROnly(
  function Component() {
    // code make suspending

    return <>...</>
  },
  { fallback: <Spinner /> }
)
```
